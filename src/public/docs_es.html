<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Pingui Alert - Simple Alerts for Developers documentation in spanish" />
    <meta name="keywords" content="Pingui Alert, Alerts, Developers, Simple Alerts, Pingui Alert Documentation" />
    <link rel="shortcut icon" href="./public/images/pinguiAlert-icon.png" type="image/x-icon" />
    <title>Documentaci√≥n - Pingui Alert</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../public/css/styles.css" />
  </head>
  <body>
    <nav class="navbar">
      <div class="logo">
        <img src="../public/images/PinguiAlert1.png" alt="Pingui Alert" style="width: 30%" />
        <a href="/" style="text-decoration: none; color: inherit">Pingui Alert</a> <span class="badge">Beta</span>
      </div>
      <div class="nav-links">
        <a href="/es" class="nav-link active">Documentaci√≥n</a>
        <a href="https://github.com/juanvidev1/pingui-alert" target="_blank" class="nav-link">GitHub</a>
        <a href="/docs" class="nav-link" style="display: flex; align-items: center; gap: 0.25rem">
          <span style="font-size: 1.1em">üá∫üá∏</span> EN
        </a>
        <a href="/metrics" class="nav-link">M√©tricas</a>
      </div>
    </nav>

    <div class="docs-container">
      <aside class="sidebar">
        <details class="sidebar-group">
          <summary>
            <h3>Primeros Pasos</h3>
          </summary>
          <a href="#introduction" class="sidebar-link">Introducci√≥n</a>
          <a href="#architecture" class="sidebar-link">Arquitectura del Sistema</a>
          <a href="#setup" class="sidebar-link">Configuraci√≥n y Auth</a>
        </details>
        <details class="sidebar-group">
          <summary>
            <h3>Open Source</h3>
          </summary>
          <a href="#self-hosting" class="sidebar-link">Self-Hosting</a>
          <a href="#monitoring" class="sidebar-link">Monitoreo y Logs</a>
          <a href="#metrics" class="sidebar-link">M√©tricas del Sistema</a>
        </details>
        <details class="sidebar-group">
          <summary>
            <h3>Buenas Pr√°cticas</h3>
          </summary>
          <a href="#commandments" class="sidebar-link">Los Mandamientos</a>
          <a href="#production-usage" class="sidebar-link">Uso en Producci√≥n</a>
        </details>
        <details class="sidebar-group">
          <summary>
            <h3>Referencia API</h3>
          </summary>
          <a href="#send-alert" class="sidebar-link">Enviar Alerta</a>
          <a href="#create-integration" class="sidebar-link">Crear Integraci√≥n</a>
          <a href="#get-integration" class="sidebar-link">Obtener Integraci√≥n</a>
          <a href="#update-rate-limit" class="sidebar-link">Actualizar Rate Limit</a>
          <a href="#revoke-integration" class="sidebar-link">Revocar Integraci√≥n</a>
          <a href="#check-quota" class="sidebar-link">Verificar Cuota</a>
        </details>
        <details class="sidebar-group">
          <summary>
            <h3>SDKs</h3>
          </summary>
          <a href="#npm-package" class="sidebar-link">Node.js / TypeScript</a>
        </details>
        <details class="sidebar-group">
          <summary>
            <h3>Casos de Uso</h3>
          </summary>
          <a href="#use-cases" class="sidebar-link">Casos de Uso</a>
        </details>
      </aside>

      <main class="docs-content">
        <section id="introduction">
          <h1>Introducci√≥n</h1>
          <p>
            Pingui Alert es un servicio de notificaci√≥n ligero que te permite enviar alertas a tu cuenta de Telegram
            directamente desde tu c√≥digo. Est√° dise√±ado para ser extremadamente simple de usar, sin requerir
            configuraci√≥n en tu servidor.
          </p>
        </section>

        <!-- Arquitectura del Sistema -->
        <section id="architecture">
          <h2>Arquitectura del Sistema</h2>
          <p>Pingui Alert utiliza una arquitectura basada en colas para garantizar la entrega confiable de alertas:</p>

          <div class="info-box" style="background: rgba(59, 130, 246, 0.1); border-left-color: #3b82f6">
            <strong>üèóÔ∏è Flujo de Arquitectura:</strong><br />
            API Request ‚Üí Validaci√≥n ‚Üí Cola Redis ‚Üí Worker ‚Üí Telegram
          </div>

          <h3>Componentes Principales</h3>
          <ul class="steps-list">
            <li><strong>API REST:</strong> Recibe las alertas y las encola</li>
            <li><strong>Cola Redis:</strong> Almacena alertas pendientes (m√°x 500 alertas)</li>
            <li><strong>Worker de Cola:</strong> Procesa alertas a 1 msg/segundo (l√≠mite seguro de Telegram)</li>
            <li><strong>Jobs Programados:</strong> Tareas autom√°ticas de mantenimiento</li>
            <li><strong>Bot de Telegram:</strong> Interfaz para gestionar integraciones</li>
          </ul>

          <h3>Jobs Autom√°ticos</h3>
          <p>El sistema ejecuta tareas de mantenimiento programadas:</p>
          <ul>
            <li>
              <strong>Reset de Rate Limits (00:00 diario):</strong> Reinicia el contador de alertas diarias a 10 para
              todos los usuarios
            </li>
            <li>
              <strong>Backup de Base de Datos (03:00 diario):</strong> Crea backups autom√°ticos de la base de datos
              SQLite
            </li>
          </ul>
        </section>

        <section id="setup">
          <h2>Configuraci√≥n y Autenticaci√≥n</h2>
          <p>Para comenzar a enviar alertas, necesitas obtener una API Key de nuestro bot de Telegram.</p>
          <ol class="steps-list">
            <li>Abre Telegram y busca <strong>@PinguiAlertBot</strong> (o tu instancia hosteada).</li>
            <li>Inicia un chat y env√≠a el comando <code>/start</code> para registrarte.</li>
            <li>
              Env√≠a el comando <code>/temporal_token</code> para obtener un token de acceso temporal. (Una vez que crees
              tu primera integraci√≥n, obtendr√°s un nuevo token permanente)
            </li>
            <li>Usa la API para crear tu primera integraci√≥n y comenzar a enviar alertas.</li>
          </ol>
          <div class="info-box">
            <strong>Nota:</strong> El servicio es completamente gratuito. El l√≠mite de 10 alertas por d√≠a ayuda a
            prevenir la degradaci√≥n del servicio debido a los l√≠mites de la API de Telegram y las restricciones de
            capacidad del servidor en @PinguiAlertBot. Si tu instancia es self-hosted, puedes aumentar el l√≠mite
            configurando la variable de entorno <code>MAX_ALERTS</code>.
          </div>
        </section>

        <!-- Commandments -->
        <section id="commandments">
          <h2>Los Mandamientos</h2>
          <p>
            Para mantener Pingui Alert √∫til y estable para todos, nos adherimos a un conjunto estricto de reglas. Sigue
            estos mandamientos para asegurar la mejor experiencia.
          </p>

          <div class="info-box" style="border-left-color: var(--accent-secondary); background: rgba(139, 92, 246, 0.1)">
            <strong>üìú La Regla de Oro:</strong> Pingui Alert es para incidentes <em>accionables y cr√≠ticos</em>. No es
            un servicio de logging.
          </div>

          <ol class="steps-list" style="counter-reset: commandments">
            <li style="list-style: none; counter-increment: commandments">
              <strong style="font-size: 1.1em; color: var(--accent-primary)">I. Uso Cr√≠tico Solamente</strong><br />
              Solo lo usar√°s para alertas cr√≠ticas que deban ser corregidas de inmediato. Dise√±a tu sistema para
              disparar estas alertas con moderaci√≥n‚Äîsolo una vez por tipo de incidente.
            </li>
            <li style="list-style: none; counter-increment: commandments">
              <strong style="font-size: 1.1em; color: var(--accent-primary)">II. Est√°ndares de Producci√≥n</strong><br />
              Si vas a enviar errores de tu api con nuestro bot, utiliza las mejores pr√°cticas de producci√≥n. Aseg√∫rate
              de que tu manejo de errores es robusto antes de enviarlo como alerta.
            </li>
            <li style="list-style: none; counter-increment: commandments">
              <strong style="font-size: 1.1em; color: var(--accent-primary)">III. Self-Host para Customizaci√≥n</strong
              ><br />
              Si requieres <em>alguna</em> customizaci√≥n (por simple que sea), utiliza la opci√≥n de self hosted. Puedes
              hostear Pingui Alert en cualquier lugar; sugerimos un VPS o servidor local por los pocos recursos que
              consume.
            </li>
            <li style="list-style: none; counter-increment: commandments">
              <strong style="font-size: 1.1em; color: var(--accent-primary)">IV. Alertas Accionables</strong><br />
              Asegurar√°s que cada alerta sea accionable. Cada alerta debe incitar una respuesta espec√≠fica e inmediata.
            </li>
            <li style="list-style: none; counter-increment: commandments">
              <strong style="font-size: 1.1em; color: var(--accent-primary)">V. Sin Fugas de Datos</strong><br />
              No enviar√°s datos sensibles de usuarios (PII), identificadores o secretos en tus alertas. Mant√©n los
              mensajes seguros.
            </li>
            <li style="list-style: none; counter-increment: commandments">
              <strong style="font-size: 1.1em; color: var(--accent-primary)">VI. Fallar de Forma Segura</strong><br />
              Implementar√°s manejo de errores para que una notificaci√≥n de alerta fallida nunca bloquee tu aplicaci√≥n
              principal. El fallo del servicio de alertas debe ser silencioso para tus usuarios finales.
            </li>
          </ol>
        </section>

        <!-- Self-Hosting -->
        <section id="self-hosting">
          <h2>Self-Hosting</h2>
          <p>
            Pingui Alert es completamente open source y puede ser auto-hosteado para control total sobre tu
            infraestructura de alertas.
          </p>

          <h3>Prerequisitos</h3>
          <ul class="steps-list">
            <li><strong>Node.js:</strong> v20 o superior</li>
            <li><strong>pnpm:</strong> v9 o superior</li>
            <li><strong>Redis:</strong> Para el sistema de colas (local o hosteado)</li>
            <li><strong>Token de Bot de Telegram:</strong> Crear v√≠a @BotFather</li>
          </ul>

          <h3>Configuraci√≥n R√°pida</h3>
          <pre><code>git clone https://github.com/juanvidev1/pingui-alert
cd pingui-alert
pnpm install

# Configurar entorno
cp .env.example .env
# Editar .env con tus valores

# Ejecutar en desarrollo
pnpm run dev

# O compilar para producci√≥n
pnpm run build
pnpm run start</code></pre>

          <h3>Variables de Entorno</h3>
          <pre><code># Requeridas
BOT_TOKEN=tu_token_de_telegram
JWT_SECRET=tu_jwt_secreto
REDIS_URL=redis://localhost:6379

# Opcionales
MAX_ALERTS=100  # Personalizar l√≠mite diario
MAX_QUEUE_SIZE=500
SEND_DELAY_MS=1000</code></pre>
        </section>

        <!-- Monitoreo -->
        <section id="monitoring">
          <h2>Monitoreo y Logs</h2>
          <p>Pingui Alert proporciona capacidades completas de logging y monitoreo:</p>

          <h3>Archivos de Log</h3>
          <ul class="steps-list">
            <li><strong>logs/info.log:</strong> Eventos generales y alertas procesadas</li>
            <li><strong>logs/error.log:</strong> Errores de aplicaci√≥n y fallos de env√≠o</li>
            <li><strong>logs/jobs.log:</strong> Ejecuci√≥n de jobs programados</li>
          </ul>

          <h3>Comandos de Monitoreo</h3>
          <pre><code># Ver alertas en tiempo real
tail -f logs/info.log | grep "Sending alert"

# Monitorear errores
tail -f logs/error.log

# Verificar estado de jobs
tail -f logs/jobs.log

# Tama√±o de cola Redis
redis-cli LLEN pingui:queue:alerts</code></pre>
        </section>

        <!-- M√©tricas -->
        <section id="metrics">
          <h2>M√©tricas del Sistema</h2>
          <p>Rastrea el uso del sistema y rendimiento con m√©tricas integradas:</p>

          <div
            class="endpoint-badge"
            style="color: #10b981; background: rgba(16, 185, 129, 0.15); border-color: rgba(16, 185, 129, 0.3)"
          >
            GET /api/metrics
          </div>

          <h3>M√©tricas Disponibles</h3>
          <ul class="steps-list">
            <li><strong>Total de Integraciones:</strong> N√∫mero de integraciones registradas</li>
            <li><strong>Total de Alertas Enviadas:</strong> Alertas entregadas acumulativas</li>
            <li><strong>Total de Errores:</strong> Intentos de alerta fallidos</li>
            <li><strong>√öltima Actualizaci√≥n:</strong> Timestamp de frescura de m√©tricas</li>
          </ul>

          <h3>Respuesta de Ejemplo</h3>
          <pre><code>{
  "totalIntegrations": 1234,
  "totalSentAlerts": 45678,
  "totalErrors": 23,
  "metrics": [
    {
      "totalIntegrations": 1234,
      "totalSentAlerts": 45678,
      "totalErrors": 23,
      "updatedAt": "2025-01-01T12:00:00Z"
    }
  ]
}</code></pre>
        </section>

        <!-- Uso en Producci√≥n -->
        <section id="production-usage">
          <h2>Uso en Producci√≥n</h2>
          <p>
            Cuando uses Pingui Alert en entornos de producci√≥n, sigue estas mejores pr√°cticas para asegurar un servicio
            √≥ptimo para todos.
          </p>

          <div class="info-box" style="background: rgba(251, 146, 60, 0.1); border-left-color: #fb923c">
            <strong>‚ö†Ô∏è Importante:</strong> Si usas la instancia hosteada de <strong>@PinguiAlertBot</strong> en
            producci√≥n, por favor res√©rvala <strong>exclusivamente para alertas cr√≠ticas</strong> (ej: fallos de
            sistema, incidentes de seguridad, errores cr√≠ticos). Esto ayuda a mantener la disponibilidad del servicio.
          </div>

          <h3>Configuraci√≥n Recomendada para Producci√≥n</h3>
          <p>Para cargas de trabajo en producci√≥n con notificaciones frecuentes, recomendamos uno de estos enfoques:</p>

          <ul class="steps-list">
            <li>
              <strong>Hostea tu propia Instancia:</strong> Despliega tu propio servidor y bot de Pingui Alert. Esto te
              da control total sobre los l√≠mites de tasa y recursos dedicados.
            </li>
            <li>
              <strong>Solo Alertas Cr√≠ticas:</strong> Si usas @PinguiAlertBot, implementa l√≥gica de filtrado para enviar
              solo notificaciones de alta prioridad.
            </li>
            <li>
              <strong>Implementa Batching:</strong> Agrupa m√∫ltiples alertas no cr√≠ticas en mensajes de resumen
              peri√≥dicos en lugar de enviar notificaciones individuales.
            </li>
          </ul>
        </section>

        <h2>Referencia API</h2>
        <p>Aqu√≠ encontrar√°s toda la informaci√≥n que necesitas para integrar Pingui Alert en tus proyectos.</p>

        <!-- Send Alert -->
        <details>
          <summary id="send-alert">
            <h2>Enviar una Alerta</h2>
            <p>Env√≠a una petici√≥n POST al endpoint <code>/alert</code> para entregar un mensaje.</p>
          </summary>
          <section id="send-alert">
            <h2>Enviar una Alerta</h2>
            <p>Env√≠a una petici√≥n POST al endpoint <code>/alert</code> para entregar un mensaje.</p>

            <div class="endpoint-badge">POST /alert</div>

            <h3>Headers</h3>
            <table class="docs-table">
              <thead>
                <tr>
                  <th>Header</th>
                  <th>Valor</th>
                  <th>Descripci√≥n</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code>Authorization</code></td>
                  <td><code>Bearer &lt;TU_API_KEY&gt;</code></td>
                  <td>Tu token JWT recibido del endpoint <code>/createIntegration</code>.</td>
                </tr>
                <tr>
                  <td><code>Content-Type</code></td>
                  <td><code>application/json</code></td>
                  <td>Requerido.</td>
                </tr>
              </tbody>
            </table>

            <h3>Body</h3>
            <pre><code>{
    "title": "T√≠tulo de la alerta",
    "message": "Tu mensaje aqu√≠",
    "chatId": "ID del chat de telegram a donde quieres recibir la alerta"
  }</code></pre>

            <h3>Ejemplo (cURL)</h3>
            <pre><code>curl -X POST https://pingui-alert.dev/api/alert \
    -H "Authorization: Bearer TU_TOKEN" \
    -H "Content-Type: application/json" \
    -d '{"title": "T√≠tulo de la alerta", "message": "Tu mensaje aqu√≠", "chatId": "ID del chat de telegram en donde quieres recibir la alerta"}'</code></pre>
          </section>
        </details>

        <!-- Create Integration -->
        <details>
          <summary id="create-integration">
            <h2>Crear Integraci√≥n</h2>
            <p>
              Crea una nueva integraci√≥n para un chat espec√≠fico usando el token temporal. El scope es una cadena
              abierta al criterio del usuario.
            </p>
          </summary>
          <section id="create-integration">
            <h2>Crear Integraci√≥n</h2>
            <p>
              Crea una nueva integraci√≥n para un chat espec√≠fico usando el token temporal. El scope es una cadena
              abierta al criterio del usuario.
            </p>

            <div class="endpoint-badge">POST /createIntegration</div>

            <h3>Headers</h3>
            <table class="docs-table">
              <thead>
                <tr>
                  <th>Header</th>
                  <th>Valor</th>
                  <th>Descripci√≥n</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code>Authorization</code></td>
                  <td><code>Bearer &lt;TOKEN_TEMPORAL&gt;</code></td>
                  <td>El token temporal recibido del comando /temporal_token.</td>
                </tr>
                <tr>
                  <td><code>Content-Type</code></td>
                  <td><code>application/json</code></td>
                  <td>Requerido.</td>
                </tr>
              </tbody>
            </table>

            <div class="endpoint-badge">POST /createIntegration</div>

            <h3>Headers</h3>
            <table class="docs-table">
              <thead>
                <tr>
                  <th>Header</th>
                  <th>Value</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code>Authorization</code></td>
                  <td><code>Bearer &lt;TEMPORAL_TOKEN&gt;</code></td>
                  <td>The temporal token received from the /temporal_token command.</td>
                </tr>
                <tr>
                  <td><code>Content-Type</code></td>
                  <td><code>application/json</code></td>
                  <td>Required.</td>
                </tr>
              </tbody>
            </table>

            <h3>Body</h3>
            <pre><code>{
    "chatId": 123456789,
    "scope": "prod"
  }</code></pre>

            <h3>Example (cURL)</h3>
            <pre><code>curl -X POST https://pingui-alert.dev/api/createIntegration \
    -H "Authorization: Bearer YOUR_TEMPORAL_TOKEN" \
    -H "Content-Type: application/json" \
    -d '{"chatId": 123456789, "scope": "prod"}'</code></pre>
          </section>
        </details>

        <!-- Get Integration -->
        <details>
          <summary id="get-integration">
            <h2>Obtener Integraci√≥n</h2>
            <p>Recupera detalles sobre una integraci√≥n espec√≠fica.</p>
          </summary>
          <section>
            <h2>Obtener Integraci√≥n</h2>
            <p>Recupera detalles sobre una integraci√≥n espec√≠fica.</p>

            <div
              class="endpoint-badge"
              style="color: #3b82f6; background: rgba(59, 130, 246, 0.15); border-color: rgba(59, 130, 246, 0.3)"
            >
              GET /integrations/:chatId
            </div>

            <h3>Headers</h3>
            <table class="docs-table">
              <thead>
                <tr>
                  <th>Header</th>
                  <th>Valor</th>
                  <th>Descripci√≥n</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code>Authorization</code></td>
                  <td><code>Bearer &lt;YOUR_API_KEY&gt;</code></td>
                  <td>Tu token permanente.</td>
                </tr>
              </tbody>
            </table>

            <h3>Example (cURL)</h3>
            <pre><code>curl -X GET https://pingui-alert.dev/api/integrations/123456789 \
    -H "Authorization: Bearer TU_TOKEN"</code></pre>
          </section>
        </details>

        <!-- Update rate limit -->
        <details>
          <summary id="update-rate-limit">
            <h2>Actualizar L√≠mite de alertas</h2>
            <p>Actualiza la cantidad del l√≠mite de alertas (en el bot p√∫blico no pueden ser m√°s de 10)</p>
          </summary>
          <section>
            <h2>Actualizar L√≠mite de Tasa</h2>
            <p>Actualiza el l√≠mite de tasa para una integraci√≥n espec√≠fica.</p>

            <div class="endpoint-badge">POST /updateRateLimit</div>

            <h3>Headers</h3>
            <table class="docs-table">
              <thead>
                <tr>
                  <th>Header</th>
                  <th>Valor</th>
                  <th>Descripci√≥n</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code>Authorization</code></td>
                  <td><code>Bearer &lt;YOUR_API_KEY&gt;</code></td>
                  <td>Tu token permanente.</td>
                </tr>
                <tr>
                  <td><code>Content-Type</code></td>
                  <td><code>application/json</code></td>
                  <td>Requerido.</td>
                </tr>
              </tbody>
            </table>

            <h3>Body</h3>
            <pre><code>{
    "chatId": 123456789,
    "rateLimit": 50
  }</code></pre>

            <h3>Example (cURL)</h3>
            <pre><code>curl -X POST https://pingui-alert.dev/api/updateRateLimit \
    -H "Authorization: Bearer YOUR_API_KEY" \
    -H "Content-Type: application/json" \
    -d '{"chatId": 123456789, "rateLimit": 50}'</code></pre>
          </section>
        </details>

        <!-- Revoke integration -->
        <details>
          <summary>
            <h2>Revocar Integraci√≥n</h2>
            <p>Revoca (desactiva) una integraci√≥n.</p>
          </summary>
          <section id="revoke-integration">
            <div class="endpoint-badge">POST /revokeIntegration</div>

            <h3>Headers</h3>
            <table class="docs-table">
              <thead>
                <tr>
                  <th>Header</th>
                  <th>Valor</th>
                  <th>Descripci√≥n</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><code>Authorization</code></td>
                  <td><code>Bearer &lt;YOUR_API_KEY&gt;</code></td>
                  <td>Tu token permanente.</td>
                </tr>
                <tr>
                  <td><code>Content-Type</code></td>
                  <td><code>application/json</code></td>
                  <td>Requerido.</td>
                </tr>
              </tbody>
            </table>

            <h3>Body</h3>
            <pre><code>{
    "chatId": 123456789
  }</code></pre>

            <h3>Example (cURL)</h3>
            <pre><code>curl -X POST https://pingui-alert.dev/api/revokeIntegration \
    -H "Authorization: Bearer YOUR_API_KEY" \
    -H "Content-Type: application/json" \
    -d '{"chatId": 123456789}'</code></pre>
          </section>
        </details>

        <!-- NPM package -->
        <section id="npm-package">
          <h2>Paquete NPM</h2>
          <p>
            Si usas Node.js o TypeScript, te recomendamos usar nuestro paquete oficial en caso de que solo quieras
            enviar alertas usando el servidor Pingui Alert. El l√≠mite de tasa y la cuota son manejados por el servidor y
            a√∫n necesitas usar el endpoint createIntegration para obtener tu API KEY.
          </p>

          <h3>Instalaci√≥n</h3>
          <pre><code>npm install pingui-alert</code></pre>

          <h3>Uso</h3>
          <pre><code>import { Pingui } from 'pingui-alert';

const client = new Pingui('TU_API_KEY');

await client.send('¬°Backup de base de datos completado con √©xito! ‚úÖ');</code></pre>
        </section>

        <section id="use-cases">
          <h2>Casos de Uso</h2>
          <p>
            Aqu√≠ tienes algunos ejemplos claros de c√≥mo aplicar Pingui Alert en escenarios reales, cumpliendo
            estrictamente con los <strong>Mandamientos</strong>.
          </p>

          <div class="use-case-card" style="margin-bottom: 2rem">
            <h3>1. Monitoreo de Errores Cr√≠ticos (Pasarela de Pago)</h3>
            <p>
              <strong>Escenario:</strong> El pago de un usuario falla debido a un error 500 del servidor. <br />
              <strong>Mandamientos Aplicados:</strong> I (Uso Cr√≠tico Solamente), V (Sin Fugas de Datos).
            </p>
            <div class="code-window">
              <div class="window-header">
                <div class="dot red"></div>
                <div class="dot yellow"></div>
                <div class="dot green"></div>
                <div class="window-title">payment.controller.ts</div>
              </div>
              <div class="code-content">
                <pre><code class="language-typescript">try {
  await processPayment(orderId, amount);
} catch (error) {
  // ‚ùå MAL: Enviando el stack completo o PII del usuario
  // await client.send(`Payment failed for user ${user.email}: ${error.stack}`);

  // ‚úÖ BIEN: Accionable, espec√≠fico, seguro
  logger.error(error); // Loguear detalles localmente
  await client.send(
    `üö® <strong>Cr√≠tico: Fallo en Pasarela de Pago</strong>\n` +
    `Pasarela: Stripe\n` +
    `OrderId: ${orderId}\n` +
    `Acci√≥n: Revisar Estado de Stripe y Logs inmediatamente.`
  );
}</code></pre>
              </div>
            </div>
          </div>

          <div class="use-case-card" style="margin-bottom: 2rem">
            <h3>2. Monitoreo de Recursos del Sistema</h3>
            <p>
              <strong>Escenario:</strong> El espacio en disco del servidor est√° peligrosamente bajo. <br />
              <strong>Mandamientos Aplicados:</strong> I (Uso Cr√≠tico), IV (Accionable).
            </p>
            <div class="code-window">
              <div class="window-header">
                <div class="dot red"></div>
                <div class="dot yellow"></div>
                <div class="dot green"></div>
                <div class="window-title">health-check.sh</div>
              </div>
              <div class="code-content">
                <pre><code class="language-bash">#!/bin/bash
USAGE=$(df / | grep / | awk '{ print $5 }' | sed 's/%//g')

# Solo alertar si el uso es > 90% (Cr√≠tico)
if [ "$USAGE" -gt 90 ]; then
  curl -X POST https://pingui-alert.dev/api/alert \
    -H "Authorization: Bearer $TOKEN" \
    -H "Content-Type: application/json" \
    -d '{
      "alert": "üíæ <strong>Cr√≠tico: Disco del Servidor</strong>\nUso al '"$USAGE"'%.\nLimpiar logs o expandir volumen AHORA."
    }'
fi</code></pre>
              </div>
            </div>
          </div>

          <div class="use-case-card" style="margin-bottom: 2rem">
            <h3>3. Incidentes de Seguridad</h3>
            <p>
              <strong>Escenario:</strong> M√∫ltiples intentos de login fallidos detectados desde una misma IP (Brute
              Force). <br />
              <strong>Mandamientos Aplicados:</strong> I (Cr√≠tico), V (Sin PII).
            </p>
            <div class="code-window">
              <div class="window-header">
                <div class="dot red"></div>
                <div class="dot yellow"></div>
                <div class="dot green"></div>
                <div class="window-title">auth.middleware.ts</div>
              </div>
              <div class="code-content">
                <pre><code class="language-typescript">if (failedAttempts > 10) {
  // L√≥gica de bloqueo de IP...

  // Alertar al Equipo de Seguridad
  await client.send(
    `üõ°Ô∏è <strong>Alerta de Seguridad: Brute Force Detectado</strong>\n` +
    `IP: ${req.ip}\n` +
    `Intentos: ${failedAttempts}\n` +
    `Acci√≥n: IP baneada temporalmente. Verificar origen del tr√°fico.`
  );
}</code></pre>
              </div>
            </div>
          </div>

          <div class="use-case-card">
            <h3>4. Fallos en Tareas de Fondo</h3>
            <p>
              <strong>Escenario:</strong> Un backup nocturno falla. <br />
              <strong>Mandamientos Aplicados:</strong> IV (Accionable), VI (Fallar Seguro).
            </p>
            <div class="code-window">
              <div class="window-header">
                <div class="dot red"></div>
                <div class="dot yellow"></div>
                <div class="dot green"></div>
                <div class="window-title">backup-cron.ts</div>
              </div>
              <div class="code-content">
                <pre><code class="language-typescript">job.on('failed', async (err) => {
  try {
    await client.send(
      `üí• <strong>Fallo en Job de Backup</strong>\n` +
      `Job: nightly_db_backup\n` +
      `Error: Connection timeout\n` +
      `Acci√≥n: Reintentar backup manualmente v√≠a panel de admin.`
    );
  } catch (alertError) {
    // Fallar seguro - no crashear el worker si la alerta falla
    console.error('Failed to send alert:', alertError);
  }
});</code></pre>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <footer>
      <p>&copy; 2025 Pingui Alert. Construido con ‚ù§Ô∏è por <a href="https://github.com/juanvidev1">JuanviDev</a>.</p>
    </footer>
  </body>
</html>
